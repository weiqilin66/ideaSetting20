# ����hystrix
# ����
# ·����д
# ��̬·��

spring:
  cloud:
    gateway:
      routes:
        - id: wayne_provide
          uri: lb://provide # lb(loadBalanced) ��provide�ж��ʵ�� �Զ����ؾ���
          filters: # �ֲ�����
            - AddRequestParameter=name,wayne  # ������ ����ת��ʱ���һ������nameֵwayne
          predicates: # ����(��...Ϊ����)
            - Method=GET
#            - Path=/provide-api/** # Ч��������һ��
            - Path=/provide-api/{segment}  # ����Path·������ת����provide ��ת����http://localhost:2223/provide-api/xx ����404

          # ���� - ��ͷ
        - id: wayne_route
          uri: http://httpbin.org # ��ת��·��uri
          predicates: # ���� ·��ӳ��(�ɻ��ʹ��)
            - Path=/get # ת����http://httpbin.org/get
            - Method=GET # ֻת��GET���� POST������404,û����ת����ȥ
#            - Path=/get/{segment} # ����/get/**��·����ת�� ��ת����http://httpbin.org/get/xxx ����404
            - Query=name # �������Я��name���� ����ת�� 404
            - Query=name,java.* # �������Я��name����,��ֵ������java��ʼ����ת�� 404
#            - After=... �ĸ�ʱ��֮����Ե��� Before= ...
      default-filters: # ȫ�ֹ���
        - StripPrefix=1 # ȥ������ǰ׺1�� ���ǰ��˷����urlǰ׺����
  #      discovery:
#        locator:
#          enabled: true # �����Զ����� Ĭ��false �������������� ������ ����routes�е�ӳ��ʧЧ
#          # �����ķ�������ַҪ��д!!
  application:
    name: gateway
#  profiles:
#    active: dev

eureka:
  client:
    service-url:
      defaultZone: http://localhost:1111/eureka
logging:
  level:
    org.springframework.cloud.gateway: debug

